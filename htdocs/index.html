<!DOCTYPE html>
<html dir="ltr" lang="de">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>pixels-to-em</title>
	<meta name="description" content="Convert pixels to em" />
	<meta name="keywords" content="pixels, em, rem, css, javascript" />

	<!-- mobile scaling -->
	<meta name="viewport" content="width=device-width, initial-scale=1" />

	<!-- IE-Stuff -->
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1" />
	<meta name="MSSmartTagsPreventParsing" content="TRUE" />

	<!-- Website as app -->
	<meta name="apple-mobile-web-app-capable" content="yes" />
	<meta name="apple-mobile-web-app-status-bar-style" content="black" />

	<!-- Short Names -->
	<meta name="apple-mobile-web-app-title" content="Little Helpers" />
	<meta name="application-name" content="Little Helpers" />

	<!-- Icons -->
	<link rel="apple-touch-icon" href="apple-touch-icon-foto-228x228-precomposed.png" sizes="228x228" />
	<link rel="shortcut icon" href="favicon.ico" />

	<!-- using onpage-CSS for project-pages -->
	<style media="screen">
		body { font-family:-apple-system, 'Open Sans', 'Helvetica Neue', sans-serif; }
		input {
			padding: 5px 2px;
		}
		.result { font-family: 'Courier New', Courier, monospace; }
	</style>

	<script type="text/javascript">
		document.onreadystatechange = function () {
			if (document.readyState === "interactive") {

				// wait for keyup-Events
				var inputListener = document.getElementsByClassName('js-input');
				for(i=0; i < inputListener.length; i++) {
					inputListener[i].addEventListener('keyup', function(event) {
						calculateValues();
					});
				}

				// calculations
				function getValues() {
					var inputTargetValue = document.getElementById('em-px-input-target').value;
					var inputParentValue = document.getElementById('em-px-input-parent').value;
					return [inputTargetValue, inputParentValue];
				}

				function calculateValues() {
					var values = getValues();
					var inputTargetValue = values[0];
					var inputParentValue = values[1];
					var result = inputTargetValue/inputParentValue;
					if(result < 1) { removeLeadingZero(result); }
					parseResult(result,inputTargetValue,inputParentValue);
				}

				function removeLeadingZero(value) {
					var result = value.toString();
					var result = result.replace(/^0./, '.');
					return result;
				}

				// output the result
				function parseResult(result,inputTargetValue,inputParentValue) {
					var resultContainer = document.getElementById('em-px-result');
					if(isNaN(result) || result === 0 || result === Infinity) {
						resultContainer.innerHTML = '';
					} else {
						resultContainer.innerHTML = result + 'em; /*-- ' + inputTargetValue + 'px / ' + inputParentValue + 'px --*/';
					}
				}
			}
		}
	</script>
</head>

<body>
	<div id="calculator">
		<h1>EM to Pixels</h1>
		<div>
			<input type="number" value="" placeholder="desired output in pixels" id="em-px-input-target" class="js-input" /> <label for="em-px-input-target">px</label>
		</div>
		<div>
			<input type="number" value="16" placeholder="set parent size to" id="em-px-input-parent" class="js-input" /> <label for="em-px-input-parent">px</label>
		</div>
		<div id="em-px-result" class="result"></div>
	</div>
</body>
</html>
