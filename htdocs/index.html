<!DOCTYPE html>
<html dir="ltr" lang="de">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>pixels-to-em</title>
	<meta name="description" content="Convert pixels to em" />
	<meta name="keywords" content="pixels, em, rem, css, javascript" />

	<!-- mobile scaling -->
	<meta name="viewport" content="width=device-width, initial-scale=1" />

	<!-- IE-Stuff -->
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1" />
	<meta name="MSSmartTagsPreventParsing" content="TRUE" />

	<!-- Website as app -->
	<meta name="apple-mobile-web-app-capable" content="yes" />
	<meta name="apple-mobile-web-app-status-bar-style" content="black" />

	<!-- Short Names -->
	<meta name="apple-mobile-web-app-title" content="Little Helpers" />
	<meta name="application-name" content="Little Helpers" />

	<!-- Icons -->
	<link rel="apple-touch-icon" href="apple-touch-icon-foto-228x228-precomposed.png" sizes="228x228" />
	<link rel="shortcut icon" href="favicon.ico" />

	<!-- using onpage-CSS for project-pages -->
	<style media="screen">
		/* -- variables -- */
		:root {
			--base-body-bg: #fff;
			--base-body-color: #444;
			--base-button-bg: #007acc;
			--base-button-bg-hover: #0e8ee4;
			--base-button-color: #fdfdfd;
			--base-border-color: #f0f0f0;
			--base-border-radius: 3px;
			--base-padding: .5rem;
			--base-shadow-color: rgba(0,0,0,.2);
			--label-width: 30%;
			--label-max-width: 200px;
			--input-width: 60%;
			--input-border-color: #ddd;
			--input-max-width: var(--label-max-width);
			--widget-border: calc(var(--base-border-radius) * 2) solid var(--base-border-color);
		}
		/* -- reset -- */
		html {
			box-sizing:border-box;
			font-size:100%;
			height:100%;
			overflow-y:auto;
			-webkit-text-size-adjust:100%;
			-ms-text-size-adjust:100%;
		}
		*,*:before,*:after{ box-sizing:inherit;}
		body {
			-webkit-font-smoothing:antialiased;
			-moz-osx-font-smoothing:grayscale;
		}

		/* -- defaults -- */
		body {
			background-color: var(--base-body-bg);
			color: var(--base-body-color);
			display: grid;
			font-family: -apple-system, 'Open Sans', 'Helvetica Neue', sans-serif;
			font-size: .875rem; /*-- 14px / 16px --*/
			grid-gap: 1rem;
			grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
			margin: 0;
			padding: 1rem;
		}
		input[type=number] {
 			-moz-appearance: textfield;
			 	 appearance: textfield;
		}
		input[type=number]::-webkit-inner-spin-button,
		input[type=number]::-webkit-outer-spin-button {
			-webkit-appearance: none;
			appearance: none;
			margin: 0;
		}

		/* -- widgets -- */
		.widget {
			background-color: var(--widget-bg);
			border-radius: calc(var(--base-border-radius) * 2);
			border: var(--widget-border);
			padding: var(--base-padding);
		}
		.widget__title {
			border-bottom: 1px solid var(--base-border-color);
			margin-top: 0;
			padding-bottom: var(--base-padding);
			text-align: center;
		}
		.widget__row { margin-bottom: var(--base-padding); }
		.widget__label {
			display: inline-block;
			max-width: var(--label-max-width);
			padding: var(--base-padding) 0;
			vertical-align: middle;
		}
		.widget__label.widget__label--pre {
			text-align: right;
			width: var(--label-width);
		}
		.widget__input {
			border: 1px solid var(--input-border-color);
			border-radius: var(--base-border-radius);
			box-shadow: inset 1px 1px 3px var(--base-shadow-color);
			padding: var(--base-padding);
			width: var(--input-width);
		}
		.widget__label.widget__label--after {
			margin-left: -1rem;				/* remove whitespace */
			text-align: right;
			transform: translateX(-100%);	/* move over input */
		}
		.widget__checkbox {
			margin-left: calc(1% + var(--label-width));
			vertical-align: middle;
		}
		.widget__button {
			background-color: var(--base-button-bg);
			border-radius: var(--base-border-radius);
			border-width: 0;
			color: var(--base-button-color);
			cursor: pointer;
			font-weight: 600;
			margin-left: calc(1% + var(--label-width));
			width: var(--input-width);
			padding: var(--base-padding);
			transition: .2s background-color ease;
		}
		.widget__button:hover {
			background-color: var(--base-button-bg-hover);
			color: var(--base-button-color);
		}
		.widget__result {
			font-family: 'Courier New', Courier, monospace;
			margin-left: calc(1% + var(--label-width));
		}
	</style>

	<script type="text/javascript">
		document.addEventListener('DOMContentLoaded',function(){
			// -- START: copy values
			// target (must be unique/id) to copy from is assigned to button via data-
			var copyTrigger = document.querySelectorAll('.js-copy');
			for(var i = 0; i < copyTrigger.length; i++){
				copyTrigger[i].addEventListener('click', copyContent);
			}

			function copyContent() {
				var selection = document.querySelector('#' + this.dataset.copySource);
				window.getSelection().selectAllChildren(selection);
				document.execCommand('copy');
				window.getSelection().removeAllRanges();
			}
			// -- END: copy values

			// -- START: Pixels to EM
			// set defaults
			var emPxUnitSwitch = document.querySelector('#em-px-unit-switch'),
				emPxOutput = document.querySelector('#em-px-result'),
				emPxInput = document.querySelectorAll('.js-input'),
				emPxInputTarget = document.querySelector('#em-px-input-target'),
				emPxInputParent = document.querySelector('#em-px-input-parent'),
				emPxResult = 0,
				unitSize = 'em',
				renderDefault = '&nbsp;';

			// calculation
			document.addEventListener('keyup', keyUpHandler, false);
			function keyUpHandler(){
				emPxResult =  Math.round(emPxInputTarget.value / emPxInputParent.value * 10000) / 10000;
				outputResult();
			};

			// switch units
			emPxUnitSwitch.onclick = function(){
				if(emPxUnitSwitch.checked === true) {
					unitSize = 'rem';
				} else {
					unitSize = 'em';
				}
				outputResult();
			};

			// output
			function outputResult() {
				if(emPxResult < 1) {
					emPxResult = String(emPxResult).replace(/^0./, '.');
				}

				if(isNaN(emPxResult) || emPxResult == 0 || emPxResult === Infinity) {
					emPxOutput.innerHTML = renderDefault;
				} else {
					emPxOutput.innerHTML = emPxResult + unitSize + '; /*-- ' + emPxInputTarget.value + 'px / ' + emPxInputParent.value + 'px --*/';
				}
			}
			// -- END: Pixels to EM
		});
	</script>
</head>

<body>
	<!-- START: em to px -->
	<div class="widget" id="em-px-calculator">
		<h2 class="widget__title">EM to Pixels</h2>
		<div class="widget__row">
			<label class="widget__label widget__label--pre" for="em-px-input-target">desired output</label>
			<input type="number" min="0" value="" placeholder="12" id="em-px-input-target" class="widget__input js-input" />
			<label class="widget__label widget__label--after"for="em-px-input-target">px</label>
		</div>
		<div class="widget__row">
			<label class="widget__label widget__label--pre" for="em-px-input-parent">set parent size to</label>
			<input type="number" value="16" placeholder="16" id="em-px-input-parent" class="widget__input js-input" />
			<label class="widget__label widget__label--after"for="em-px-input-parent">px</label>
		</div>
		<div id="em-px-result" class="widget__row widget__result">&nbsp;</div>
		<div class="widget__row">
			<input type="checkbox" id="em-px-unit-switch" class="widget__checkbox js-input" />
			<label class="widget__label" for="em-px-unit-switch">rem</label>
		</div>
		<div class="widget__row">
			<button class="widget__button js-copy" data-copy-source="em-px-result">Copy</button>
		</div>
	</div>
	<!-- END: em to px -->

	<!-- START: percentage-calculator -->
	<div class="widget" id="em-px-calculator">
		<h2 class="widget__title">Calculate Percentages</h2>
		<div class="widget__row">
		</div>
		<div class="widget__row">
			<button class="widget__button js-copy" data-copy-source="em-px-result-2">Copy</button>
		</div>
	</div>
	<!-- END: em to px -->

	<!-- START: percentage-calculator -->
	<div class="widget" id="em-px-calculator">
		<h2 class="widget__title">Calculate Conversions</h2>
		<div class="widget__row">
		</div>
		<div class="widget__row">
			<button class="widget__button js-copy" data-copy-source="em-px-result-2">Copy</button>
		</div>
	</div>
	<!-- END: em to px -->
</body>
</html>
