<!DOCTYPE html>
<html dir="ltr" lang="de">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>pixels-to-em</title>
	<meta name="description" content="Convert pixels to em" />
	<meta name="keywords" content="pixels, em, rem, css, javascript" />

	<!-- mobile scaling -->
	<meta name="viewport" content="width=device-width, initial-scale=1" />

	<!-- IE-Stuff -->
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1" />
	<meta name="MSSmartTagsPreventParsing" content="TRUE" />

	<!-- Website as app -->
	<meta name="apple-mobile-web-app-capable" content="yes" />
	<meta name="apple-mobile-web-app-status-bar-style" content="black" />

	<!-- Short Names -->
	<meta name="apple-mobile-web-app-title" content="Little Helpers" />
	<meta name="application-name" content="Little Helpers" />

	<!-- Icons -->
	<link rel="apple-touch-icon" href="apple-touch-icon-foto-228x228-precomposed.png" sizes="228x228" />
	<link rel="shortcut icon" href="favicon.ico" />

	<!-- using onpage-CSS for project-pages -->
	<style media="screen">
		/* -- variables -- */
		:root {
			--base-body-bg: #fff;
			--base-body-color: #444;
			--base-button-bg: #007acc;
			--base-button-bg-hover: #0e8ee4;
			--base-button-color: #fdfdfd;
			--base-border-color: #f0f0f0;
			--base-border-radius: 3px;
			--base-padding: .5rem;
			--base-shadow-color: rgba(0,0,0,.2);
			--label-width: 30%;
			--label-max-width: 200px;
			--input-width: 60%;
			--input-border-color: #ddd;
			--input-max-width: var(--label-max-width);
			--widget-border: calc(var(--base-border-radius) * 2) solid var(--base-border-color);
		}
		/* -- reset -- */
		html {
			box-sizing:border-box;
			font-size:100%;
			height:100%;
			overflow-y:auto;
			-webkit-text-size-adjust:100%;
			-ms-text-size-adjust:100%;
		}
		*,*:before,*:after{ box-sizing:inherit;}
		body {
			-webkit-font-smoothing:antialiased;
			-moz-osx-font-smoothing:grayscale;
		}

		/* -- defaults -- */
		body {
			background-color: var(--base-body-bg);
			color: var(--base-body-color);
			display: grid;
			font-family: -apple-system, 'Open Sans', 'Helvetica Neue', sans-serif;
			font-size: .875rem; /*-- 14px / 16px --*/
			grid-gap: 1rem;
			grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
			margin: 0;
			padding: 1rem;
		}
		input[type=number] {
 			-moz-appearance: textfield;
			 	 appearance: textfield;
		}
		input[type=number]::-webkit-inner-spin-button,
		input[type=number]::-webkit-outer-spin-button {
			-webkit-appearance: none;
			appearance: none;
			margin: 0;
		}

		/* -- widgets -- */
		.widget {
			background-color: var(--widget-bg);
			border-radius: calc(var(--base-border-radius) * 2);
			border: var(--widget-border);
			padding: var(--base-padding);
		}
		.widget__title {
			border-bottom: 1px solid var(--base-border-color);
			margin-top: 0;
			padding-bottom: var(--base-padding);
			text-align: center;
		}
		.widget__row { margin-bottom: var(--base-padding); }
		.widget__label {
			display: inline-block;
			max-width: var(--label-max-width);
			padding: var(--base-padding) 0;
			vertical-align: middle;
		}
		.widget__label.widget__label--pre {
			text-align: right;
			width: var(--label-width);
		}
		.widget__input {
			border: 1px solid var(--input-border-color);
			border-radius: var(--base-border-radius);
			box-shadow: inset 1px 1px 3px var(--base-shadow-color);
			padding: var(--base-padding);
			width: var(--input-width);
		}
		.widget__label.widget__label--after {
			margin-left: -1rem;				/* remove whitespace */
			text-align: right;
			transform: translateX(-100%);	/* move over input */
		}
		.widget__checkbox {
			margin-left: calc(1% + var(--label-width));
			vertical-align: middle;
		}
		.widget__button {
			background-color: var(--base-button-bg);
			border-radius: var(--base-border-radius);
			border: 1px solid var(--base-button-bg);
			color: var(--base-button-color);
			cursor: pointer;
			font-weight: 600;
			width: calc(var(--input-width) / 2 - .2rem);
			padding: var(--base-padding);
			transition: .2s background-color ease;
		}
		.widget__button:first-child { margin-left: calc(1% + var(--label-width)); }
		.widget__button:hover {
			background-color: var(--base-button-bg-hover);
			border-color: var(--base-button-bg-hover);
			color: var(--base-button-color);
		}
		.widget__button--secondary {
			background-color: var(--base-button-color);
			color: var(--base-button-bg);
		}
		.widget__result {
			font-family: 'Courier New', Courier, monospace;
			margin-left: calc(1% + var(--label-width));
		}
	</style>

	<script type="text/javascript">
		document.addEventListener('DOMContentLoaded',function(){
			// -- START: copy values
			// target (must be unique/id) to copy from is assigned to button via data-
			var copyTrigger = document.querySelectorAll('.js-copy');
			for(var i = 0; i < copyTrigger.length; i++){
				copyTrigger[i].addEventListener('click', copyContent);
			}

			function copyContent(event) {
				var selection = document.querySelector('#' + this.dataset.copySource);
				window.getSelection().selectAllChildren(selection);
				document.execCommand('copy');
				window.getSelection().removeAllRanges();
				event.preventDefault();
			}
			// -- END: copy values

			// -- START: clear values
			// target (must be unique/id) to copy from is assigned to button via data-
			var clearTrigger = document.querySelectorAll('.js-clear'),
				clearDefault = '&nbsp;';

			for(var i = 0; i < clearTrigger.length; i++){
				clearTrigger[i].addEventListener('click', clearContent);
			}

			function clearContent() {
				var clearTarget = document.querySelector('#' + this.dataset.clearTarget);
				clearTarget.innerHTML = clearDefault;
			}
			// -- END: clear values

			// -- START: Pixels to EM
			// set defaults
			var emPxUnitSwitch = document.querySelector('#em-px-unit-switch'),
				emPxOutput = document.querySelector('#em-px-result'),
				emPxInput = document.querySelectorAll('.js-input'),
				emPxInputTarget = document.querySelector('#em-px-input-target'),
				emPxInputParent = document.querySelector('#em-px-input-parent'),
				emPxResult = 0,
				emPxUnitSize = 'em';

			// calculation
			document.addEventListener('keyup', emPxKeyUpHandler, false);
			function emPxKeyUpHandler(){
				emPxResult =  Math.round(emPxInputTarget.value / emPxInputParent.value * 10000) / 10000;
				emPxOutputResult();
			};

			// switch units
			emPxUnitSwitch.onclick = function(){
				if(emPxUnitSwitch.checked === true) {
					emPxUnitSize = 'rem';
				} else {
					emPxUnitSize = 'em';
				}
				emPxOutputResult();
			};

			// output
			function emPxOutputResult() {
				if(emPxResult < 1) {
					emPxResult = String(emPxResult).replace(/^0./, '.');
				}

				if(isNaN(emPxResult) || emPxResult == 0 || emPxResult === Infinity) {
					emPxOutput.innerHTML = clearDefault;
				} else {
					emPxOutput.innerHTML = emPxResult + emPxUnitSize + '; /*-- ' + emPxInputTarget.value + 'px / ' + emPxInputParent.value + 'px --*/';
				}
			}
			// -- END: Pixels to EM

			// -- START: percentage-calculator
			// set defaults
			var percentageValue = document.querySelector('#percentage-value'),
				baseValue = document.querySelector('#base-value'),
				percentageOutput = document.querySelector('#percentage-result');


			// calculation
			document.addEventListener('keyup', percentageKeyUpHandler, false);
			function percentageKeyUpHandler(){
				percentageResult =  Math.round(percentageValue.value / baseValue.value * 100 * 100) / 100;
				percentageSaving = Math.round((100 - percentageResult) * -1 * 100) / 100;
				percentageOutputResult();
			};

			// output
			function percentageOutputResult() {
				if(isNaN(percentageResult) || percentageResult == 0 || percentageResult === Infinity) {
					percentageOutput.innerHTML = clearDefault;
				} else {
					percentageOutput.innerHTML = percentageResult + '% / ' + percentageSaving + '%';
				}
			}
			// -- END: percentage-calculator

			// -- START: conversions-calculator
			// set defaults
			var chancesValue = document.querySelector('#visitors-value'),
				conversionsValue = document.querySelector('#conversions-value'),
				conversionRateOutput = document.querySelector('#conversion-result');


			// calculation
			document.addEventListener('keyup', conversionKeyUpHandler, false);
			function conversionKeyUpHandler(){
				conversionResult =  Math.round(conversionsValue.value / chancesValue.value * 100 * 10000) / 10000;
				conversionOutputResult();
			};

			// output
			function conversionOutputResult() {
				if(isNaN(conversionResult) || conversionResult == 0 || conversionResult === Infinity) {
					conversionRateOutput.innerHTML = clearDefault;
				} else {
					if(conversionResult > 100) {
						conversionRateOutput.innerHTML = '? -> ' + conversionResult + '%';
					} else {
						conversionRateOutput.innerHTML = conversionResult + '%';
					}
				}
			}
			// -- END: conversions-calculator
		});
	</script>
</head>

<body>
	<!-- START: em to px -->
	<form class="widget" id="em-px-calculator">
		<h2 class="widget__title">EM to Pixels</h2>
		<div class="widget__row">
			<label class="widget__label widget__label--pre" for="em-px-input-target">desired output</label>
			<input type="number" min="0" value="" placeholder="12" id="em-px-input-target" class="widget__input js-input" />
			<label class="widget__label widget__label--after" for="em-px-input-target">px</label>
		</div>
		<div class="widget__row">
			<label class="widget__label widget__label--pre" for="em-px-input-parent">set parent size to</label>
			<input type="number" value="16" placeholder="16" id="em-px-input-parent" class="widget__input js-input" />
			<label class="widget__label widget__label--after" for="em-px-input-parent">px</label>
		</div>
		<div id="em-px-result" class="widget__row widget__result">&nbsp;</div>
		<div class="widget__row">
			<input type="checkbox" id="em-px-unit-switch" class="widget__checkbox js-input" />
			<label class="widget__label" for="em-px-unit-switch">rem</label>
		</div>
		<div class="widget__row">
			<button class="widget__button widget__button--secondary js-clear" data-clear-target="em-px-result" type="reset">clear</button>
			<button class="widget__button js-copy" data-copy-source="em-px-result">copy</button>
		</div>
	</form>
	<!-- END: em to px -->

	<!-- START: percentage-calculator -->
	<form class="widget" id="percentage-calculator">
		<h2 class="widget__title">Calculate Percentages</h2>
		<div class="widget__row">
			<label class="widget__label widget__label--pre" for="base-value">base/old value</label>
			<input type="number" value="100" placeholder="100" id="base-value" class="widget__input js-input" />
			<label class="widget__label widget__label--after" for="base-value">%</label>
		</div>
		<div class="widget__row">
			<label class="widget__label widget__label--pre" for="percentage-value">new value</label>
			<input type="number" value="" placeholder="10" id="percentage-value" class="widget__input js-input" />
			<label class="widget__label widget__label--after" for="percentage-value">%</label>
		</div>
		<div id="percentage-result" class="widget__row widget__result">&nbsp;</div>
		<div class="widget__row">
			<button class="widget__button widget__button--secondary js-clear" data-clear-target="percentage-result" type="reset">clear</button>
			<button class="widget__button widget__button--primary js-copy" data-copy-source="percentage-result">copy</button>
		</div>
	</form>
	<!-- END: percentage-calculator -->

	<!-- START: conversion-calculator -->
	<form class="widget" id="conversion-calculator">
		<h2 class="widget__title">Calculate Conversions</h2>
		<div class="widget__row">
			<label class="widget__label widget__label--pre" for="visitors-value">visitors</label>
			<input type="number" value="1000" placeholder="1000" id="visitors-value" class="widget__input js-input" />
			<label class="widget__label widget__label--after" for="visitors-value">☺</label>
		</div>
		<div class="widget__row">
			<label class="widget__label widget__label--pre" for="conversions-value">conversions</label>
			<input type="number" value="" placeholder="30" id="conversions-value" class="widget__input js-input" />
			<label class="widget__label widget__label--after" for="conversions-value">&check;</label>
		</div>
		<div id="conversion-result" class="widget__row widget__result">&nbsp;</div>
		<div class="widget__row">
			<button class="widget__button widget__button--secondary js-clear" data-clear-target="conversion-result" type="reset">clear</button>
			<button class="widget__button js-copy" data-copy-source="conversion-result">copy</button>
		</div>
	</form>
	<!-- END: conversion-calculator -->
</body>
</html>
